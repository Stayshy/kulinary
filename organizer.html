<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Панель организатора</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="assets/css/style.css" rel="stylesheet">
</head>
<body>
<div class="container mt-5">
    <h1>Панель организатора</h1>
    <div id="profile-error" class="alert alert-danger d-none"></div>
    <p>Добро пожаловать, <span id="user-name"></span>! Здесь вы сможете управлять мероприятиями.</p>
    <a href="index.html" class="btn btn-secondary" onclick="localStorage.removeItem('user');">Выйти</a>
</div>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        const user = JSON.parse(localStorage.getItem('user'));
        const profileError = document.getElementById('profile-error');

        if (!user || user.role !== 'organizer') {
            profileError.textContent = 'Пожалуйста, войдите как организатор';
            profileError.classList.remove('d-none');
            setTimeout(() => window.location.href = '/volunteer_system/index.html', 2000);
            return;
        }

        document.getElementById('user-name').textContent = user.name;
    });
</script>
</body>
</html>